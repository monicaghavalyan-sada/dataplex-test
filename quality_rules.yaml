rules:
  - ruleId: "no_null_product_ids"
    dimension: "COMPLETENESS"
    nonNullExpectation:
      column: "product_id"
    threshold: 0.9

  - ruleId: "no_null_source_filename"
    dimension: "COMPLETENESS"
    nonNullExpectation:
      column: "source_filename"
    threshold: 1.0

  - ruleId: "valid_review_score"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "avg_review_score"
      minValue: "0"
      maxValue: "5"
    threshold: 1.0

  - ruleId: "valid_pct_without_text_review"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "pct_without_text_review"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid_very_satisfied_pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "very_satisfied_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid_somewhat_satisfied_pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "somewhat_satisfied_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid_neutral_pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "neutral_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid_somewhat_dissatisfied_pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "somewhat_dissatisfied_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid_very_dissatisfied_pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "very_dissatisfied_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid_pct_without_score_review"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "pct_without_score_review"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid_score_5_pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "score_5_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid_score_4_pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "score_4_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid_score_3_pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "score_3_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid_score_2_pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "score_2_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid_score_1_pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "score_1_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "sentiment_percentages_sum_to_100"
    dimension: "CONSISTENCY"
    rowConditionExpectation:
      sqlExpression: "ABS((very_satisfied_pct + somewhat_satisfied_pct + neutral_pct + somewhat_dissatisfied_pct + very_dissatisfied_pct + pct_without_score_review) - 100) < 0.1"
    threshold: 0.95

  - ruleId: "score_percentages_sum_to_100"
    dimension: "CONSISTENCY"
    rowConditionExpectation:
      sqlExpression: "ABS((score_5_pct + score_4_pct + score_3_pct + score_2_pct + score_1_pct + pct_without_score_review) - 100) < 0.1"
    threshold: 0.95
