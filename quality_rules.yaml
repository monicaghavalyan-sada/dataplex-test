rules:
  - ruleId: "no-null-product-ids"
    dimension: "COMPLETENESS"
    nonNullExpectation:
      column: "product_id"
    threshold: 0.9

  - ruleId: "no-null-source-filename"
    dimension: "COMPLETENESS"
    nonNullExpectation:
      column: "source_filename"
    threshold: 1.0

  - ruleId: "valid-review-score"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "avg_review_score"
      minValue: "0"
      maxValue: "5"
    threshold: 1.0

  - ruleId: "valid-pct-without-text-review"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "pct_without_text_review"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid-very-satisfied-pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "very_satisfied_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid-somewhat-satisfied-pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "somewhat_satisfied_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid-neutral-pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "neutral_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid-somewhat-dissatisfied-pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "somewhat_dissatisfied_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid-very-dissatisfied-pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "very_dissatisfied_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid-pct-without-score-review"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "pct_without_score_review"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid-score-5-pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "score_5_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid-score-4-pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "score_4_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid-score-3-pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "score_3_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid-score-2-pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "score_2_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "valid-score-1-pct"
    dimension: "VALIDITY"
    rangeExpectation:
      column: "score_1_pct"
      minValue: "0"
      maxValue: "100"
    threshold: 1.0

  - ruleId: "sentiment-percentages-sum-to-100"
    dimension: "CONSISTENCY"
    rowConditionExpectation:
      sqlExpression: "ABS((very_satisfied_pct + somewhat_satisfied_pct + neutral_pct + somewhat_dissatisfied_pct + very_dissatisfied_pct + pct_without_score_review) - 100) < 0.1"
    threshold: 0.95

  - ruleId: "score-percentages-sum-to-100"
    dimension: "CONSISTENCY"
    rowConditionExpectation:
      sqlExpression: "ABS((score_5_pct + score_4_pct + score_3_pct + score_2_pct + score_1_pct + pct_without_score_review) - 100) < 0.1"
    threshold: 0.95
