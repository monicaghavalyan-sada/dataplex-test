rules:
  - rule_id: "no_null_product_ids"
    dimension: "COMPLETENESS"
    non_null_expectation:
      column: "product_id"
    threshold: 0.95

  - rule_id: "no_null_source_filename"
    dimension: "COMPLETENESS"
    non_null_expectation:
      column: "source_filename"
    threshold: 1.0


  - rule_id: "valid_review_score"
    dimension: "VALIDITY"
    range_expectation:
      column: "avg_review_score"
      min_value: "0"
      max_value: "5"
    threshold: 1

  - rule_id: "valid_pct_without_text_review"
    dimension: "VALIDITY"
    range_expectation:
      column: "pct_without_text_review"
      min_value: "0"
      max_value: "100"
    threshold: 1.0

  - rule_id: "valid_very_satisfied_pct"
    dimension: "VALIDITY"
    range_expectation:
      column: "very_satisfied_pct"
      min_value: "0"
      max_value: "100"
    threshold: 1.0

  - rule_id: "valid_somewhat_satisfied_pct"
    dimension: "VALIDITY"
    range_expectation:
      column: "somewhat_satisfied_pct"
      min_value: "0"
      max_value: "100"
    threshold: 1.0

  - rule_id: "valid_neutral_pct"
    dimension: "VALIDITY"
    range_expectation:
      column: "neutral_pct"
      min_value: "0"
      max_value: "100"
    threshold: 1.0

  - rule_id: "valid_somewhat_dissatisfied_pct"
    dimension: "VALIDITY"
    range_expectation:
      column: "somewhat_dissatisfied_pct"
      min_value: "0"
      max_value: "100"
    threshold: 1.0

  - rule_id: "valid_very_dissatisfied_pct"
    dimension: "VALIDITY"
    range_expectation:
      column: "very_dissatisfied_pct"
      min_value: "0"
      max_value: "100"
    threshold: 1.0

  - rule_id: "valid_pct_without_score_review"
    dimension: "VALIDITY"
    range_expectation:
      column: "pct_without_score_review"
      min_value: "0"
      max_value: "100"
    threshold: 1.0

  - rule_id: "valid_score_5_pct"
    dimension: "VALIDITY"
    range_expectation:
      column: "score_5_pct"
      min_value: "0"
      max_value: "100"
    threshold: 1.0

  - rule_id: "valid_score_4_pct"
    dimension: "VALIDITY"
    range_expectation:
      column: "score_4_pct"
      min_value: "0"
      max_value: "100"
    threshold: 1.0

  - rule_id: "valid_score_3_pct"
    dimension: "VALIDITY"
    range_expectation:
      column: "score_3_pct"
      min_value: "0"
      max_value: "100"
    threshold: 1.0

  - rule_id: "valid_score_2_pct"
    dimension: "VALIDITY"
    range_expectation:
      column: "score_2_pct"
      min_value: "0"
      max_value: "100"
    threshold: 1.0

  - rule_id: "valid_score_1_pct"
    dimension: "VALIDITY"
    range_expectation:
      column: "score_1_pct"
      min_value: "0"
      max_value: "100"
    threshold: 1.0

  - rule_id: "sentiment_percentages_sum_to_100"
    dimension: "CONSISTENCY"
    row_condition_expectation:
      sql_expression: "ABS((very_satisfied_pct + somewhat_satisfied_pct + neutral_pct + somewhat_dissatisfied_pct + very_dissatisfied_pct + pct_without_score_review) - 100) < 0.1"
    threshold: 0.95

  - rule_id: "score_percentages_sum_to_100"
    dimension: "CONSISTENCY"
    row_condition_expectation:
      sql_expression: "ABS((score_5_pct + score_4_pct + score_3_pct + score_2_pct + score_1_pct + pct_without_score_review) - 100) < 0.1"
    threshold: 0.95
